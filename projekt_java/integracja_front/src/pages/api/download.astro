---
const response = await fetch(import.meta.env.BACKEND_SERVER + '/renewableEnergy/all', {
    headers: {
        'content-type': 'application/json',
        authorization: 'Bearer ' + (Astro.locals.accessToken ?? '')
    },
});

if (!response.ok) {
    return new Response([204, 205].includes(response.status) ? null : await response.blob(), response);
}

return new Response([204, 205].includes(response.status) ? null : await response.blob(), {
    status: response.status,
    headers: {
        'content-disposition': 'attachment; filename="renewableEnergy.json"',
    },
});
---
